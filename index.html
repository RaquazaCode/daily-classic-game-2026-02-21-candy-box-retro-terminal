<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Candy Box - Retro Terminal v2.1</title>
    <script type="module" src="/src/main.ts"></script>
  </head>
  <body>
    <div id="app-shell">
      <aside id="left-panel" class="dock dock-left dock-collapsed">
        <button id="toggle-left" class="dock-toggle" type="button">L (Q)</button>
        <div class="dock-inner">
          <h2>Run Control</h2>
          <div class="control-row">
            <button id="start-btn" type="button">Start</button>
            <button id="collect-btn" type="button">Collect</button>
          </div>
          <div id="stats-panel" class="panel-block"></div>
          <div class="panel-block">
            <h3>Command</h3>
            <div class="command-row">
              <input id="command-input" type="text" maxlength="14" placeholder="BOOST / SYNC / DUMP" />
              <button id="command-submit" type="button">Send</button>
            </div>
            <div id="command-feedback" class="meta-line"></div>
          </div>
        </div>
      </aside>

      <main id="stage-column">
        <div id="stage-toolbar">
          <label>
            Difficulty
            <select id="difficulty-select"></select>
          </label>
          <label>
            Theme
            <select id="theme-select"></select>
          </label>
          <div class="toolbar-hint">Q/E toggle docks · 1/2/3 theme · P pause · R reset</div>
        </div>
        <canvas id="game" width="960" height="640"></canvas>
      </main>

      <aside id="right-panel" class="dock dock-right dock-collapsed">
        <button id="toggle-right" class="dock-toggle" type="button">R (E)</button>
        <div class="dock-inner">
          <div class="panel-block">
            <h2>Upgrades</h2>
            <div id="upgrade-list" class="stack-list"></div>
          </div>
          <div class="panel-block">
            <h2>Prestige</h2>
            <div id="meta-summary" class="meta-line"></div>
            <div id="prestige-list" class="stack-list"></div>
            <button id="meta-reset" type="button">Reset Meta</button>
          </div>
        </div>
      </aside>
    </div>
  </body>
</html>
